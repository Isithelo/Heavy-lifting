<h1>Create a new component</h1>
<p>Components are used as building blocks for assemblies. These components can be created here as standalone items, or in the assembly hierarchy.</p>
<hr>
<div class="row" style="padding-top: 15px" >
	<div class="col-md-4">
        <form class="form-horizontal">
            <fieldset>
               <!-- Select Basic -->
               <div class="form-group">
                  <label class="col-md-4 control-label" for="selectbasic">Owner</label>
                  <div class="col-md-8">
                    <select title="Select your surfboard" id="selectpicker" class="form-control">
                      <option data-css="max-height:25px" data-thumbnail="/uploads/{{user.id}}.jpg">{{user.username}}</option>
                      {{#each organizations}}
                      <option data-css="max-height:25px" data-thumbnail="{{this.entry.picture}}">{{this.entry.displayname}} </option>
                      {{/each}}
                  </select>
              </div>
          </div>
          <div class="form-group">
            <label class="col-md-4 control-label" for="selectbasic">Description</label>
            <div class="col-md-8">
               <textarea class="form-control" name="paragraph_text" cols="5" rows="3" placeholder="Add a description for later."></textarea> 
           </div>
       </div>
       <div class="form-group">
          <label class="col-md-4 control-label" for="selectbasic">Select Component Type</label>
          <div class="col-md-8">
            <select id="selectbasicss" name="selectbasic" class="form-control"  data-live-search="true">
                <option value="None" >None</option>
                {{#each componentlist}}
                <option data-childtype="{{this.childType}}" value="{{this.elementID}}">{{this.entry.description}}</option>
                {{/each}}
            </select><span class="help-block">The applicable structure of the component.</span>  
        </div>
    </div>
    <!-- Multiple Radios -->
    <div class="form-group">
      <label class="col-md-4 control-label" for="radios">Select the sharing permissions</label>
      <div class="col-md-8">
          <div class="radio">
            <label for="radios-0">
              <input type="radio" name="radios" id="radios-0" value="1" checked="checked">
              Public
          </label><span class="help-block">Anyone can see this repository. You choose who can commit.</span>  
      </div>
      <div class="radio">
        <label for="radios-1">
          <input type="radio" name="radios" id="radios-1" value="2">
          Private
      </label><span class="help-block">You choose who can see and commit to this repository.</span>  
  </div>
</div>
</div>
<!-- Button -->
<div class="form-group">
  <label class="col-md-4 control-label" for="singlebutton">Create Assembly</label>
  <div class="col-md-4">
    <button id="singlebutton" name="singlebutton" class="btn btn-success">Submit</button>
</div>
</div>
</fieldset>
</form>
</div>
<div class="col-md-7" id="loadformhere">


     <div id="panel">  
       <div style="border-width: 2px; border-style: dashed; border-color: grey;padding:55px;text-align: center;border-radius: 5px;"><strong>   Getting Started!</strong> You are creating a new component.</div> </div>

</div>
</div>

<script type="text/javascript">
 
   $('#selectpicker').selectpicker();
   $('#selectbasicss').selectpicker();
   var componentlist =  {{{componentlistParse}}}
   $('#selectbasicss').change(function(){
    var itemID = $('#selectbasicss').val()
    for (var i = 0; i < componentlist.length; i++) {
        if (componentlist[i].elementID == itemID) {
            var formToUse = componentlist[i].childType
        }
    }
    var headings = ["description","detail","icon","headings"]
    var entry =''    

if (itemID == 'None') {
    var html = '<div style="border-width: 2px; border-style: dashed; border-color: grey;padding:55px;text-align: center;border-radius: 5px;"><strong>   Getting Started!</strong> You are creating a new component.</div>'
       $('#loadformhere').html(html) 
} else {
    loadformModal(formToUse,'','component',itemID,headings,entry)
}

    

})

//////////////////////////////////////
////////    GET FORM BY ID  /////////
////////////////////////////////////                                                                                                              
function loadformModal(formdata,idItem,raw,parentid,headings,entry){
  var headings = JSON.stringify(headings)
  var entry = JSON.stringify(entry)
  jQuery.ajax({
    'url': '/getform?formdata='+formdata+'&idItem='+idItem+'&raw='+raw+'&parentid='+parentid+'&headings='+headings+'&entry='+entry,
    'async': true,
    'global': false,
    'success': function (dataSchemaObject) {

      $('#loadformhere').html(dataSchemaObject)
      
  }
});
}
</script>