{{> orgheader}}

<ul class="nav nav-tabs" role="tablist">
	<li role="presentation" ><a href="/organizations/{{organization.entry.name}}" role="tab" >Summary</a></li>
	<li role="presentation"><a href="/organizations/{{organization.entry.name}}/components" role="tab">Components</a></li>
	<li role="presentation"><a href="/organizations/{{organization.entry.name}}/assemblies" role="tab">Assemblies</a></li>
	<li role="presentation" ><a href="/organizations/{{organization.entry.name}}/people" role="tab">People</a></li>
	<li role="presentation" class="active"><a href="/organizations/{{organization.entry.name}}/settings/profile" role="tab">Settings</a></li>
</ul>


   
<div class="row" style="padding-top: 25px">
	<div class="col-md-3" id="navMenuPanel">       
		<div class="list-group">
			<a href="/organizations/{{organization.entry.name}}/settings/profile" class="list-group-item active">Profile</a>
			<a href="/organizations/{{organization.entry.name}}/settings/member_privileges" class="list-group-item">Member privileges</a>
		</div>
	</div>  
	<div class="col-md-9" id="browserArea">


  {{#if messages.success}}
      <div role="alert" class="alert alert-success">
        {{#each messages.success}}
        <div>{{msg}}</div>
        {{/each}}
      </div>
      {{/if}}
      {{#if messages.error}}
      <div role="alert" class="alert alert-danger">
        {{#each messages.error}}
        <div>{{msg}}</div>
        {{/each}}
      </div>
      {{/if}}
      <form method="POST" action="/organizations/{{organization.entry.name}}/?_method=PUT" class="form-horizontal">
        <h2>Organizational Profile</h2>
        <hr>
        <div class="row">
          <div class="col-md-8">
            <div class="form-group">
              <label for="displayname" class="col-sm-12">Organization username</label>
              <div class="col-sm-12">
                <input type="displayname" name="name" id="name" class="form-control" value="{{organization.entry.name}}" disabled>
                <p class="help-block">Changing your username can have unforeseen consequences. <a class="btn btn-default btn-xs"  onclick="activate()">Change</a></p>
              </div>
            </div>

            <div class="form-group">
              <label for="displayname" class="col-sm-12">Organization display name</label>
              <div class="col-sm-12">
                <input type="displayname" name="displayname" id="displayname" class="form-control" value="{{organization.entry.displayname}}" >
              </div>
            </div>
            <div class="form-group">
              <label for="email" class="col-sm-12">Email (will be public)</label>
              <div class="col-sm-12">
                <input type="email" name="email" id="email" class="form-control" value="{{organization.entry.email}}">
              </div>
            </div> 
            <div class="form-group">
              <label for="displayname" class="col-sm-12">Description</label>
              <div class="col-sm-12">
                <input type="description" name="description" id="description" class="form-control" value="{{organization.entry.description}}" >
              </div>
            </div>
            <div class="form-group">
              <label for="displayname" class="col-sm-12">Url</label>
              <div class="col-sm-12">
                <input type="url" name="url" id="url" class="form-control" value="{{organization.entry.url}}" >
              </div>
            </div>
            <div class="form-group">
              <label for="displayname" class="col-sm-12">Location</label>
              <div class="col-sm-12">
                <input type="location" name="location" id="location" class="form-control" value="{{organization.entry.location}}" >
              </div>
            </div>
            <div class="form-group">
              <label for="email" class="col-sm-12">Billing email (Private)</label>
              <div class="col-sm-12">
                <input type="email" name="billingemail" id="billingemail" class="form-control" value="{{organization.entry.billingemail}}">
              </div>
            </div> 

            <div class="form-group">
              <div class="col-sm-4">
                <button type="submit" class="btn btn-default">Update Profile</button>
              </div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="form-group">
              <div class="col-sm-12">
  <h4  >Profile Picture</h4>
  <!-- This wraps the whole cropper -->
<div id="image-cropper" >
  <!-- This is where the preview image is displayed -->
 
     <div class="cropit-preview"  style="border: 1px solid #eee;position: relative;"></div>
 
  <!-- This range input controls zoom -->
  <!-- You can add additional elements here, e.g. the image icons -->
  <input type="range" class="cropit-image-zoom-input" />
  <p></p>
  <!-- This is where user selects new image -->
  <input type="file" class="cropit-image-input" name="picture" id="picture"/>
  <!-- The cropit- classes above are needed
       so cropit can identify these elements -->
</div>
              </div>
           
            </div>
          </div>
        </div>
      </form>





	</div>
</div>
<style type="text/css">
  .cropit-preview {
  /* You can specify preview size in CSS */
  width: 255px;
  height: 255px;
 
}

</style>
<script type="text/javascript">
{{#if user.picture}}
var imageSrc = '{{{user.picture}}}'
{{else}}
var imageSrc = '{{{user.gravatar}}}'
{{/if}}


$('#image-cropper').cropit({ imageState: { src: imageSrc  } });

// In the demos I'm passing in an imageState option
// so it renders an image by default:
// $('#image-cropper').cropit({ imageState: { src: { imageSrc } } });

// Exporting cropped image
$('.download-btn').click(function() {
  var imageData = $('#image-cropper').cropit('export');
  window.open(imageData);
});
</script>

